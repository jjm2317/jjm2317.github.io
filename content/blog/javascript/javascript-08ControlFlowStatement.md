---
title: javascript 08ControlFlowStatement
date: 2020-08-26 15:38:08
category: "javascript"
draft: false
---

# 제어문

- 제어문(control flow statement)는 다음의 경우 사용
  - 주어진 조건에 따라 코드블록 실행(조건문)
  - 코드블록을 반복 실행(반복문)
- 코드의 실행흐름을 인위적으로 제어
  - 가장 심플한 것은 위에서 아래로 예외없이 동작
  - 모던한 개발 방법론에서는 제어문을 별로 안 좋아한다.

## 블록문

- 0개 이상의 문을 중괄호로 묶은 것(문이 없을 수도 있다)
- 여러개의 문을 묶은 하나의 블록을 하나의 실행단위로 취급
  - 하나가 실행되면 블록내의 문이 다같이 실행된다는 뜻
- 제어문과 함수 선언문 등에서 블록문이 사용된다.
- 자체 종결성(self closing)이 있어 끝에 세미콜론을 붙이지 않는다.

```
{
var num1 =1;
}

if(num1<2){
num1++;
}

function increase(num){
num++;
}

// {} 로 감싸진 코드 블록이 모두 블록문이다
```

## 1. 조건문

조건문은 **조건식**과 실행할 **코드블록**의 조합으로 이루어져 있다.

- 조건식이 어떤 **값**으로 평가되느냐에 따라 코드블록의 실행 여부가 결정된다.
- 조건식은 불리언(boolean)값으로 평가되며 boolean 타입이 아닌 표현식의 경우 boolean 값으로 암묵적 타입변환된다.

### 상반되는 두가지 조건의 경우 if else 문을 사용하자

- 주어진 조건식이 true 인 경우 실행할 코드블록, false인 경우 실행할 코드 블록이 있는 경우 if else 문을 주로 활용한다.

#### 사용예시는 다음과 같다

```{
var score,grade;
if(score>=70){
	grade = 'P';
}else{
	grade = 'F';
}
```

### 조건을 추가할 경우 else if 문을 사용하자

- 조건식이 여러개라면 else if 문을 사용

#### else if 문의 사용예시는 다음과 같다

```
var score,grade;
if(score >= 80){
	grade = 'A';
}else if(score >= 60){
	grade = 'B';
}else{
	grade = 'C';
}
```

### 기타사항

- else, else if 는 필수가 아니라 선택이다. 사용하지 않아도 상관없으며 상황에 따라 추가해서 사용하도록 하자
- 코드블록내에 문이 하나면 중괄호를 생략가능하다.
- if else 문은 삼항 조건 연산자로 바꾸어 쓸 수 있다.

### if else문은 삼항 조건 연산자로 바꿔 쓸 수 있다.

- if else 문, 삼항 조건 연산자 모두 조건과 그에따른 결과 값이 두가지 이므로 동일하게 구현할 수 있다.

```
var score,grade;
if(score>=70){
	grade = 'P';
}else{
	grade = 'F';
}

// 위 제어문을 삼항조건 연산자로 써보자
grade = score >= 70 ? 'P' : 'F';
```

그렇다면 조건이 3개 이상인 else if 문은 어떻게 삼항 조건 연산자로 구현 할 수 있을까??

#### 조건이 여러개인 else if 문을 삼항 조건연산자로 바꾸려면..

- 다음과 같은 방법을 따른다.

```
var score,grade;
if(score >= 80){
	grade = 'A';
}else if(score >= 60){
	grade = 'B';
}else{
	grade = 'C';
}

// 위 코드를 삼항 조건 연산자로 구현해보자.
grade = score >= 80 ? 'A' : (score >= 60 ? 'B' : 'C');
```

- 조건 하나하나 순차적으로 분리해 작성하면 된다

### if else 문 이외에, 조건이 여러개인 경우 사용할 수 있는 조건문 : switch 문

- 조건이 여러개일때 if else 문과 switch 문을 주로 사용하는데, 사용하는 상황은 다르다.
- if else 문은 조건식의 **논리적 참, 거짓**을 따질때 사용한다.
- switch 문은 **주어진 표현식의 case**에 따라 실행할 문을 나눌때 사용한다.

#### switch문의 사용예시

```
// if else 문은 조건식의 논리적 참거짓을 판단한다.
var score,grade;
if(score >= 80){
	grade = 'A';
}else if(score >= 60){
	grade = 'B';
}else{
	grade = 'C';
}

// switch 문은 주어진 표현식의 평가값에 따라 case 문을 실행한다.
var score, grade;

switch(score){
	case 5 : grade = 'A';break;
	case 4 : grade = 'B';break
	case 3 : grade = 'C';break;
	case 2 : grade = 'D';break;
	case 1 : grade = 'E';break;
	default: grade = null;
}

```

#### break 로 case 문을 마무리해주는 것에 주의하자

case 문을 실행하고 break 문으로 switch 문을 탈출하지 않는다면 다음 case 문, default 문까지 연이어 실행하게되는 상황이 발생한다. 이러한 상황을 fall through 라고 한다.

그러므로 실행하고자 하는 case 문이 끝났다면 **break 키워드**로 제어문을 탈출해주도록 하자

break 키워드는 코드블록을 탈출한다는 의미가 있다.

- 기타사항
  - fall through 현상을 이용해서 코드를 작성하는 경우도 있다.
  - 일반적으로 default 문에는 break 키워드를 사용하지 않는다. default가 switch 문의 마무리를 암시하기 때문이다.

#### 폴 스루(fall through) 를 이용한 제어문 작성 예시

- 월별 일 수를 나타내는 switch 문을 작성해보자.

- 추가적으로 윤년 판별을 삼항 조건연산자로 작성해보자

````
var year, month, days;
​```
// year, month, days에 값을 할당
​```

switch(month){
	case 1: case 3: case 5: case 7: case 8: case 10: case 12:
	days =31;
	break;
	case 4: case 6: case 9: case 11:
	days =30;
	break;
	case 2:
	//윤년 판별하기
    // 1. 연도가 4로 나누어떨어지는 해(2000, 2004, 2008, 2012, 2016, 2020...)는 윤년이다.
    // 2. 연도가 4로 나누어떨어지더라도 연도가 100으로 나누어떨어지는 해(2000, 2100, 2200...)는 평년이다.
    // 3. 연도가 400으로 나누어떨어지는 해(2000, 2400, 2800...)는 윤년이다.

    days = year%4===0 ? (year%100===0 ? (year%400 === 0 ? 29 : 28) : 29) : 28;

    // 위는 일감으로 써본건데 좀 긴 것 같다.
    // 한번의 조건식 평가로 값을 도출하도록 작성해보자
    // days = (year%4===0)&&(year%100!==0 || year%400===0) ? 29 : 28;
    // 이웅모 강사님의 코드는?
    //  days = ((year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0)) ? 29 : 28;break;

    default :
    	console.log('month 제대로 치세요')
}
````

## 2. 반복문

- **조건식의 평가 값이 true** 인경우 **코드블록을 반복적으로** 실행
- 조건식의 평가 값이 false 면 반복문을 탈출한다.
- 세가지 반복문이 있다
  - for 문
  - while 문
  - do while 문

### for 문

- 조건식 평가 값이 false 일때까지 코드블록 반복 실행
- 함수형 프로그래밍하고는 잘 안맞는다.
  - 괄호 안에 변수가 만들어지기 때문
- 실행순서가 특이하다

#### for 문은 어떻게 동작할까

```
var sum = 0;
for(var i = 1; i<=10; i++){
	sum+=i;
}
console.log(sum); // 55

//위 예제에서의 반복문
for(var i = 1; i<=10; i++){
	sum+=i;
}
//for(변수선언문;조건식;증감식){실행할 코드블록} 의 방법으로 이용
//for(1번;2번;3번){4번} 작동순서는 아래와 같다
//1번 2번 4번 3번 2번(2번이 계속해서 참이면) 4번 3번 2번 4번 3번 //2번(2번이 거짓이면) 반복문 끝
```

#### 좀 더 자세히? for문의 () 안이 어떻게 동작하는지를 중심으로

```
for(문1 ; 문2 ; 문3){ 코드블록4}
```

for 문의 () 안에는 **일반적으로** 3개의 문이 들어간다.

**조건식 평가 값이 false 일때까지 코드블록 반복 실행** 하는 것이 for 문의 목적이다. 문1~3 으로 **조건식의 평가와 코드블록의 반복여부**를 결정한다.

for 문에서 코드 실행 순서는 문1 - 문2 - 코드블록4 - 문3 순이다.

- 문1 : for 문 첫실행 시 한번만 실행되는 문. 보통 반복을 결정하는데 쓰일 변수를 선언한다.
- 문2 : 두번째로 실행되는 문. **boolean 값으로 평가**되어 true인경우 코드블록 4를 실행한다.
- 코드블록 4 : 문2가 true 로 평가되면 실행된다. 문 2가 false 면 실행 안됨.
- 문3 : 코드블록 4 실행이 끝나면 실행되는 문. 보통 문 1에서 선언한 변수의 증감식을 삽입한다.

#### for 의 () 안의 3가지 문에 대한 실험

##### 먼저 문1에 대해서

- 전역변수로 어떤 변수를 선언했고 그 변수를 문2의 조건식에 이용한다면 문1 을 비워두어도 된다.

```
var i=0
for( ; i<10; i++){
  console.log(i);
}//0 1 2 ~~~ 9
console.log(i);//10,
//다른얘기이지만, ()안에서 i를 선언해도 console.log(i)가 10이다.var 키워드의 특성때문이다.
```

- 문 1에는 표현식인 문과 표현식이 아닌 문 전부 들어갈 수 있다.
  - 선언문 작성이 가능하며, 할당문 작성역시 가능하다.

##### 문2 에 대해서

- **boolean 값**으로 평가된다(중요!)
  - boolean 값으로 평가되지 않는 표현식도 암묵적 타입변환

```
for(var i=0; i=0; i++){
	console.log('코드블록 실행');
}
console.log('코드블록 미실행');
// 코드블록 미실행
// i=0 이라는 할당문은 0으로 평가되어 false로 암묵적 변환된다.

for(var i=0; i===0; i++){
	console.log('코드블록 실행');
}
// 코드블록 실행
// i===0은 true 이다.

for(;1;){
	console.log('무한루프');
}
// 무한루프~~~~

//2번째 문은 boolean 값으로 평가된다는 점 꼭 기억하자
```

##### 문3 에 대해서

- 3번째 문에는 **표현식인 문**이 위치 할 수 있다.
- 문3은 별로 궁금한게 없어서 별거 안했다.

##### for 문은 ()안의 문들과 코드블록의 실행순서, 각문의 특징만 알면 끝난다.

- 여기까지 공부한 바로는 그렇다.

- 혼자 가설 세우고 검증해봤지만 나중에 사양을 직접 살펴보자

### while 문

- for 문과 마찬가지로 while문 역시 **조건식 평가결과가 참**이면 **코드블록 반복실행**
- for 문과는 어떤 차이?
  - for 문은 반복횟수가 명확할때 사용
  - while 문은 반복횟수가 불명확할 때 사용

#### for 문과 비슷하게 동작한다. 다만 실행 순서가 조금 다르다.

```
while(조건식){
	실행할 문들
}
// 조건식을 먼저 평가하고 true 이면 코드블록을 실행한다.
// 조건식은 for의 문2와 마찬가지로 boolean 값으로 평가된다.
// 코드블록이 끝나면 다시 조건식을 평가한다. 조건식 평가 값이 false 일때 까지 반복실행
```

#### while문의 조건식이 항상 참이면, 무한루프이다.

```
var num =0 ;
while(1){
	console.log(num++);
}//0 1 2 3 4 5 6 ~~ 무한루프가 걸렸다

//보통 break 키워드로 반복문을 탈출한다.

var num =0;
while(1){
	console.log(num++);
	if(num===10){break;}
}
// 0 1 2 3 4 5 6 7 8 9
```

### do while 문

- 마찬가지이다. 실행순서만 조금 다르다.
  - 코드블록을 먼저 실행하고 조건식을 평가한다.
  - 일단 실행한다는데에 의의가 있다.

```
var num =1;

do{
	console.log(num++);
}while(num<10)
// 1 2 3 4 5 6 7 8 9
```

## 3. break 문

### 일부 코드블록을 탈출하는 break 문

- break 문으로 탈출할 수 있는 문은 다음과 같다.

  - 레이블 문
  - 반복문(for, for in , for of, while, do while)
  - switch 문

- 위 문 이외의 문에서는 동작안함 (SyntaxError)

  - ```
    if(1){
    	break;
    }//SyntaxError
    //if 문에서 동작 안함
    //바깥의 코드블록을 탈출
    ```

#### 레이블문이란?

- 식별자가 붙은 문이다.
- 레이블 문의 식별자에는 따로 키워드를 안붙여도 되는듯하다.

##### 레이블 문의 사용예시

```
for(var i =0; i<10; i++){
	for(var j =0; j<10; j++){
		if (i===3 && j===3){
			break;
		}
	}
}
console.log(i, j);// 10 10
// 내부 for 문만 탈출 했기때문에 외부 for 문으로 다시 돌아가 반복 실행한다.

//3 3 의결과를 얻고 싶다면 레이블 문을 이용하자.

all : for(var i =0; i<10; i++){
	for(var j =0; j<10; j++){
		if (i===3 && j===3){
			break all;
		}
	}
}
console.log(i, j); // 3 3
```

레이블 문 사용 시 코드 가독성이 나빠져서 잘 사용 안한다고 한다.

## 4. continue 문

- 반복문의 증감식으로 바로 이동시킨다.
- 탈출은 아니다.

### continue 문 사용예시

```
// 1~10에서 홀수만 출력해보자

for(var i=0;i<10;i++){
	if(i%2===0)continue;
	console.log(i);
}
//위와 같이 continue 문을 사용할 수 있다.

// 위코드는 아래와 같은 결과이다.
for(var i=0;i<10;i++){
	if(i%2!==0){
	 console.log(i);
	}
}
// continue 문을 썼을 때보다 더 가독성이 좋아보인다.
// continue 문은 본래 코드의 if 문 내의 실행코드가 많을 때 사용하면 효율적이다.
```
