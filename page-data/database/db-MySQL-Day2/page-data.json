{"componentChunkName":"component---src-templates-blog-post-js","path":"/database/db-MySQL-Day2/","result":{"data":{"site":{"siteMetadata":{"title":"Jiman's Blog","author":"Jeong Jiman","siteUrl":"https://gatsby-starter-bee.netlify.com","comment":{"disqusShortName":"","utterances":"JaeYeopHan/gatsby-starter-bee"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"a4fa6819-1a73-5888-a973-f73ed1089cfb","excerpt":"Mysql Day2 GROUP BY HAVING GROUP BY 는 여러개의 동일한 데이터를 가지는 특정 컬럼을 합쳐주는 역할을 하는 명령 COUNT , MAX, MIN, AVG, VAR_SAMP, STDDEV count MAX MIN SUM AVG HAVING WITH ROLLUP CREATE USE ALTER DROP CREATE USE ALTER","html":"<h1 id=\"mysql-day2\" style=\"position:relative;\"><a href=\"#mysql-day2\" aria-label=\"mysql day2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mysql Day2</h1>\n<h2 id=\"group-by-having\" style=\"position:relative;\"><a href=\"#group-by-having\" aria-label=\"group by having permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GROUP BY HAVING</h2>\n<ul>\n<li>GROUP BY 는 여러개의 동일한 데이터를 가지는 특정 컬럼을 합쳐주는 역할을 하는 명령</li>\n<li>COUNT , MAX, MIN, AVG, VAR_SAMP, STDDEV</li>\n</ul>\n<p><strong>count</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\"># city 테이블의 countrycode를 묶고 각 코드마다 몇개의 데이터가 있는지 확인\nSELECT CountryCode, COUNT(CountryCode)\nFROM city\nGROUP BY CountryCode</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#countrylanguage 테이블에서 전체언어가 몇개 있는지 구하시오.\n#DISTINCT 중복을 제거해주는 문법\nsql&gt; SELECT COUNT(DISTINCT(Language)) as language_count\nFROM countrylanguage</code></pre></div>\n<p><strong>MAX</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#대률별 인구수와 GNP 최대ㅣ값을 조회\n\nSELECT continent, MAX(Population) as Population, MAX(GNP) as GNP\nFROM country\nGROUP BY continent</code></pre></div>\n<p><strong>MIN</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\"># 대륙별 인구수와 GNP 최소 값을 조회 (GNP와 인구수가 0이 아닌 데이터 중에서)\nSELECT continent, MIN(Population) as Population, MIN(GNP) as GNP\nFROM country\nWHERE GNP != 0 AND Population != 0\nGROUP BY continent</code></pre></div>\n<p><strong>SUM</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#대륙 별 총 인구수와 총 gnp\n\nSELECT continent, SUM(population), SUM(gnp)\nFROM country\nGROUP BY continent</code></pre></div>\n<p><strong>AVG</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#대륙별 평균 인구수와 평균 gnp 결과를 인구수로 내림차순 정렬\nSELECT continent, AVG(population) as pop, AVG(GNP)\nFROM country\nGROUP BY continent\nORDER BY pop DESC</code></pre></div>\n<p><strong>HAVING</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\"># 대륙별 전체인구를 구하고 5억이상인 대륙만 조회\n\nSELECT continent, SUM(population) as population\nFROM country\nGROUP BY continent\nHAVING population &gt;= 500000000;</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#대륙별 평균 인구수, 평균 GNP, 1인당 gnp한 결과를 1인당 gnp가 0.01 이상인 데이터를 조회하고 1인당 gnp를 내림차순으로 정렬\n\nSELECT continent, AVG(population) as pop, AVG(gnp) as gnp, (AVG(gnp) / AVG(pop)) as gpp\nFROM country\nGROUP BY continent\nHAVING gpp &gt;= 0.01\nORDER BY gpp DESK</code></pre></div>\n<p><strong>WITH ROLLUP</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#고객과 스탭별 매출과 고객별 매출의 총합을 출력\nuse sakila;\n\nSELECT   customer_id, staff_id,SUM(amount)\nFROM payment\nGROUP BY customer_id, staff_id\nWITH ROLLUP</code></pre></div>\n<h2 id=\"create-use-alter-drop\" style=\"position:relative;\"><a href=\"#create-use-alter-drop\" aria-label=\"create use alter drop permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CREATE USE ALTER DROP</h2>\n<p><strong>CREATE</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\"># 데이터 베이스 생성\nCREATE DATABASE &lt;databas_name&gt;;\n\n# test 데이터 베이스 생성\nCREATE DATABASE test;</code></pre></div>\n<p><strong>USE</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#test 데이터 베이스 선택\nUSE test;\n\n#현재 데이터 베이스 확인\nSELECT DATABASE();\n\n#테이블 생성\nCREATE TABLE &lt;table_name&gt;(\n\tcolumn_name_1 column_data_type_1 column_constraint_1,\n    column_name_2 column_data_type_2 column_constraint_2,\n    ...\n);\n\n#제약조건이 없는 user1 테이블 생성\n\nCREATE TABLE user1(\n\tuser_id INT,\n    name Varchar(20),\n    email Varchar(30),\n    age INT(3),\n    rdate DATE\n);\n\n#제약조건이 있는 user2 테이블 생성\nCREATE TABLE user2(\n\t user_id INT PRIMARY KEY AUTO_INCREMENT,\n    name Varchar(20), NOT NULL,\n    email Varchar(30), UNIQUE NOT NULL,\n    age INT(3) DEFAULT &#39;30&#39;,\n    rdate TIMESTAMP\n)</code></pre></div>\n<p><strong>ALTER</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\"># Database\n\n#사용중인 데이터베이스의 인코딩 방식 확인\nSHOW VARIABLES LIKE &quot;character_set_database&quot;</code></pre></div>","frontmatter":{"title":"db MySQL Day2","date":"December 31, 2020"}}},"pageContext":{"slug":"/database/db-MySQL-Day2/","previous":{"fields":{"slug":"/database/db-MySQL-review/"},"frontmatter":{"title":"db MySQL review","category":"database","draft":false}},"next":{"fields":{"slug":"/database/db-MySQL-prac/"},"frontmatter":{"title":"db MySQL prac","category":"database","draft":false}}}},"staticQueryHashes":["2486386679","3128451518"]}